<div class="rockefeller-card rockefeller-mt-4">
    <div class="rockefeller-flex-between rockefeller-mb-4">
        <h3 class="rockefeller-heading">
            <MudIcon Icon="@Icons.Material.Filled.PlayArrow" Size="Size.Small" style="margin-right: 8px;" />
            Trading Controls
        </h3>
    </div>
    
    <MudGrid>
        <MudItem xs="12" md="4">
            <MudButton Variant="Variant.Filled" 
                       Color="@(IsTradingActive ? Color.Error : Color.Success)" 
                       OnClick="OnTradingButtonClicked"
                       StartIcon="@(IsTradingActive ? Icons.Material.Filled.Stop : Icons.Material.Filled.PlayArrow)"
                       Class="@(IsTradingActive ? "rockefeller-btn-danger" : "rockefeller-btn-success")"
                       Disabled="@(SelectedSymbol == null || ActiveProfile == null || !ActiveProfile?.EnableAutoTrading == true)">
                @(IsTradingActive ? "Stop Trading" : "Start Trading")
            </MudButton>
        </MudItem>
        
        <MudItem xs="12" md="4">
            <MudButton Variant="Variant.Outlined" 
                       Color="Color.Primary" 
                       OnClick="OnOpenLongPosition"
                       StartIcon="@Icons.Material.Filled.TrendingUp"
                       Class="rockefeller-btn-outline"
                       Disabled="@(SelectedSymbol == null || ActiveProfile == null)">
                Open Long
            </MudButton>
        </MudItem>
        
        <MudItem xs="12" md="4">
            <MudButton Variant="Variant.Outlined" 
                       Color="Color.Secondary" 
                       OnClick="OnOpenShortPosition"
                       StartIcon="@Icons.Material.Filled.TrendingDown"
                       Class="rockefeller-btn-outline"
                       Disabled="@(SelectedSymbol == null || ActiveProfile == null)">
                Open Short
            </MudButton>
        </MudItem>
        
        <MudItem xs="12" md="4">
            <MudButton Variant="Variant.Outlined" 
                       Color="Color.Info" 
                       OnClick="OnAnalyzeSymbol"
                       StartIcon="@Icons.Material.Filled.Analytics"
                       Class="rockefeller-btn-outline"
                       Disabled="@(SelectedSymbol == null)">
                AI Analysis
            </MudButton>
        </MudItem>
        
        <MudItem xs="12" md="4">
            <MudButton Variant="Variant.Outlined" 
                       Color="Color.Warning" 
                       OnClick="OnViewSymbolHistory"
                       StartIcon="@Icons.Material.Filled.History"
                       Class="rockefeller-btn-outline"
                       Disabled="@(SelectedSymbol == null)">
                History
            </MudButton>
        </MudItem>
    </MudGrid>
</div>

@code {
    [Parameter] public string? SelectedSymbol { get; set; }
    [Parameter] public bool IsTradingActive { get; set; }
    [Parameter] public TradingProfile? ActiveProfile { get; set; }
    
    [Parameter] public EventCallback OnTradingButtonClicked { get; set; }
    [Parameter] public EventCallback OnOpenLongPosition { get; set; }
    [Parameter] public EventCallback OnOpenShortPosition { get; set; }
    [Parameter] public EventCallback OnAnalyzeSymbol { get; set; }
    [Parameter] public EventCallback OnViewSymbolHistory { get; set; }
}
